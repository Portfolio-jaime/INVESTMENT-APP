# Default values for infrastructure-base
replicaCount: 1

# PostgreSQL Configuration
postgresql:
  enabled: true
  image: postgres:15-alpine
  database: trii_db
  username: trii_user
  password: trii_password
  port: 5432
  resources:
    limits:
      cpu: 500m
      memory: 1Gi
    requests:
      cpu: 250m
      memory: 512Mi
  persistence:
    enabled: true
    size: 2Gi
    storageClass: standard

# Redis Configuration
redis:
  enabled: true
  image: redis:7-alpine
  port: 6379
  resources:
    limits:
      cpu: 200m
      memory: 256Mi
    requests:
      cpu: 100m
      memory: 128Mi
  persistence:
    enabled: true
    size: 1Gi
    storageClass: standard

# RabbitMQ Configuration
rabbitmq:
  enabled: true
  image: rabbitmq:3-management-alpine
  username: trii_user
  password: trii_password
  port: 5672
  managementPort: 15672
  resources:
    limits:
      cpu: 300m
      memory: 512Mi
    requests:
      cpu: 150m
      memory: 256Mi
  persistence:
    enabled: true
    size: 1Gi
    storageClass: standard

# Ingress Configuration
ingress:
  enabled: true
  className: "nginx"
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
  hosts:
    - host: trii.local
      paths:
        - path: /
          pathType: Prefix
          service: frontend-app
          port: 3000
    - host: trii-api.local
      paths:
        - path: /
          pathType: Prefix
          service: trii-gateway
          port: 8080
    - host: rabbitmq.local
      paths:
        - path: /
          pathType: Prefix
          service: rabbitmq
          port: 15672
  tls: []

# Network Policies
networkPolicy:
  enabled: false

# Labels for infrastructure tracking
labels:
  component: infrastructure
  tier: base
  app.kubernetes.io/part-of: trii-platform