apiVersion: v1
kind: ConfigMap
metadata:
  name: {{ include "ml-prediction.fullname" . }}-config
  labels:
    {{- include "ml-prediction.labels" . | nindent 4 }}
data:
  COLOMBIAN_MARKETS: "{{ .Values.config.colombianMarkets }}"
  API_PORT: "{{ .Values.config.apiPort }}"
  REDIS_HOST: "{{ .Values.config.redisHost }}"
  TIMESCALE_HOST: "{{ .Values.config.timescaleHost }}"
  # MCP Configuration
  MCP_SERVER_URL: "{{ .Values.config.mcpServerUrl }}"
  MCP_CONTEXT_PROVIDERS: "{{ .Values.config.mcpContextProviders }}"
  # LLM Settings
  OLLAMA_ENDPOINT: "{{ .Values.config.ollamaEndpoint }}"
  LLAMA_CPP_PATH: "{{ .Values.config.llamaCppPath }}"
  # Colombian Market Parameters
  TRM_API_URL: "{{ .Values.config.trmApiUrl }}"
  LOCAL_MARKET_DATA_PATH: "{{ .Values.config.localMarketDataPath }}"
  # Risk Assessment Thresholds
  MAX_RISK_SCORE: "{{ .Values.config.maxRiskScore }}"
  MIN_CONFIDENCE_LEVEL: "{{ .Values.config.minConfidenceLevel }}"
  # Portfolio Optimization Constraints
  MAX_PORTFOLIO_WEIGHT: "{{ .Values.config.maxPortfolioWeight }}"
  MIN_DIVERSIFICATION_RATIO: "{{ .Values.config.minDiversificationRatio }}"
  # Feature Flags
  ENABLE_MCP_INTEGRATION: "{{ .Values.config.enableMcpIntegration }}"
  ENABLE_HYBRID_LLM: "{{ .Values.config.enableHybridLlm }}"
  ENABLE_RISK_ASSESSMENT: "{{ .Values.config.enableRiskAssessment }}"
  ENABLE_PORTFOLIO_OPTIMIZATION: "{{ .Values.config.enablePortfolioOptimization }}"
  MARKET_SOURCES: |
    - yahoo_finance
    - alpha_vantage
    - twelve_data
    - finnhub
  COLOMBIAN_SOURCES: |
    - bvc
    - trii_broker
  RECOMMENDATION_MODELS: |
    - basic_ml
    - hybrid_llm
    - mcp_enhanced
  RISK_MODELS: |
    - volatility_based
    - sharpe_ratio
    - value_at_risk